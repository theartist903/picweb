!function(){"use strict";function b(a,b){a.lastscrolltop=b}var c=jQuery.fn.revolution,d=c.is_mobile(),e={alias:"Parallax Min JS",name:"revolution.extensions.parallax.min.js",min_core:"5.4.5",version:"2.2.3"};jQuery.extend(!0,c,{checkForParallax:function(a,b){function f(a){if("3D"==g.type||"3d"==g.type){a.find(".slotholder").wrapAll('<div class="dddwrapper" style="width:100%;height:100%;position:absolute;top:0px;left:0px;overflow:hidden"></div>'),a.find(".tp-parallax-wrap").wrapAll('<div class="dddwrapper-layer" style="width:100%;height:100%;position:absolute;top:0px;left:0px;z-index:5;overflow:'+g.ddd_layer_overflow+';"></div>'),a.find(".rs-parallaxlevel-tobggroup").closest(".tp-parallax-wrap").wrapAll('<div class="dddwrapper-layertobggroup" style="position:absolute;top:0px;left:0px;z-index:50;width:100%;height:100%"></div>');var c=a.find(".dddwrapper"),d=a.find(".dddwrapper-layer");a.find(".dddwrapper-layertobggroup").appendTo(c),"carousel"==b.sliderType&&("on"==g.ddd_shadow&&c.addClass("dddwrappershadow"),punchgs.TweenLite.set(c,{borderRadius:b.carousel.border_radius})),punchgs.TweenLite.set(a,{overflow:"visible",transformStyle:"preserve-3d",perspective:1600}),punchgs.TweenLite.set(c,{force3D:"auto",transformOrigin:"50% 50%"}),punchgs.TweenLite.set(d,{force3D:"auto",transformOrigin:"50% 50%",zIndex:5}),punchgs.TweenLite.set(b.ul,{transformStyle:"preserve-3d",transformPerspective:1600})}}if("stop"===c.compare_version(e).check)return!1;var g=b.parallax;if(!g.done){if(g.done=!0,d&&"on"==g.disable_onmobile)return!1;"3D"!=g.type&&"3d"!=g.type||(punchgs.TweenLite.set(b.c,{overflow:g.ddd_overflow}),punchgs.TweenLite.set(b.ul,{overflow:g.ddd_overflow}),"carousel"!=b.sliderType&&"on"==g.ddd_shadow&&(b.c.prepend('<div class="dddwrappershadow"></div>'),punchgs.TweenLite.set(b.c.find(".dddwrappershadow"),{force3D:"auto",transformPerspective:1600,transformOrigin:"50% 50%",width:"100%",height:"100%",position:"absolute",top:0,left:0,zIndex:0}))),b.li.each(function(){f(jQuery(this))}),("3D"==g.type||"3d"==g.type)&&b.c.find(".tp-static-layers").length>0&&(punchgs.TweenLite.set(b.c.find(".tp-static-layers"),{top:0,left:0,width:"100%",height:"100%"}),f(b.c.find(".tp-static-layers"))),g.pcontainers=new Array,g.pcontainer_depths=new Array,g.bgcontainers=new Array,g.bgcontainer_depths=new Array,b.c.find(".tp-revslider-slidesli .slotholder, .tp-revslider-slidesli .rs-background-video-layer").each(function(){var a=jQuery(this),c=a.data("bgparallax")||b.parallax.bgparallax;void 0!==(c="on"==c?1:c)&&"off"!==c&&(g.bgcontainers.push(a),g.bgcontainer_depths.push(b.parallax.levels[parseInt(c,0)-1]/100))});for(var h=1;h<=g.levels.length;h++)b.c.find(".rs-parallaxlevel-"+h).each(function(){var a=jQuery(this),b=a.closest(".tp-parallax-wrap");b.data("parallaxlevel",g.levels[h-1]),b.addClass("tp-parallax-container"),g.pcontainers.push(b),g.pcontainer_depths.push(g.levels[h-1])});"mouse"!=g.type&&"scroll+mouse"!=g.type&&"mouse+scroll"!=g.type&&"3D"!=g.type&&"3d"!=g.type||(a.mouseenter(function(b){var c=a.find(".active-revslide"),d=a.offset().top,e=a.offset().left,f=b.pageX-e,g=b.pageY-d;c.data("enterx",f),c.data("entery",g)}),a.on("mousemove.hoverdir, mouseleave.hoverdir, trigger3dpath",function(c,d){var e=d&&d.li?d.li:a.find(".active-revslide");if("enterpoint"==g.origo){var f=a.offset().top,h=a.offset().left;void 0==e.data("enterx")&&e.data("enterx",c.pageX-h),void 0==e.data("entery")&&e.data("entery",c.pageY-f);var i=e.data("enterx")||c.pageX-h,j=e.data("entery")||c.pageY-f,k=i-(c.pageX-h),l=j-(c.pageY-f),m=g.speed/1e3||.4}else var f=a.offset().top,h=a.offset().left,k=b.conw/2-(c.pageX-h),l=b.conh/2-(c.pageY-f),m=g.speed/1e3||3;"mouseleave"==c.type&&(k=g.ddd_lasth||0,l=g.ddd_lastv||0,m=1.5);for(var n=0;n<g.pcontainers.length;n++){var o=g.pcontainers[n],p=g.pcontainer_depths[n],q="3D"==g.type||"3d"==g.type?p/200:p/100,r=k*q,s=l*q;"scroll+mouse"==g.type||"mouse+scroll"==g.type?punchgs.TweenLite.to(o,m,{force3D:"auto",x:r,ease:punchgs.Power3.easeOut,overwrite:"all"}):punchgs.TweenLite.to(o,m,{force3D:"auto",x:r,y:s,ease:punchgs.Power3.easeOut,overwrite:"all"})}if("3D"==g.type||"3d"==g.type){var t=".tp-revslider-slidesli .dddwrapper, .dddwrappershadow, .tp-revslider-slidesli .dddwrapper-layer, .tp-static-layers .dddwrapper-layer";"carousel"===b.sliderType&&(t=".tp-revslider-slidesli .dddwrapper, .tp-revslider-slidesli .dddwrapper-layer, .tp-static-layers .dddwrapper-layer"),b.c.find(t).each(function(){var a=jQuery(this),d=g.levels[g.levels.length-1]/200,e=k*d,f=l*d,h=0==b.conw?0:Math.round(k/b.conw*d*100)||0,i=0==b.conh?0:Math.round(l/b.conh*d*100)||0,j=a.closest("li"),n=0,o=!1;a.hasClass("dddwrapper-layer")&&(n=g.ddd_z_correction||65,o=!0),a.hasClass("dddwrapper-layer")&&(e=0,f=0),j.hasClass("active-revslide")||"carousel"!=b.sliderType?"on"!=g.ddd_bgfreeze||o?punchgs.TweenLite.to(a,m,{rotationX:i,rotationY:-h,x:e,z:n,y:f,ease:punchgs.Power3.easeOut,overwrite:"all"}):punchgs.TweenLite.to(a,.5,{force3D:"auto",rotationY:0,rotationX:0,z:0,ease:punchgs.Power3.easeOut,overwrite:"all"}):punchgs.TweenLite.to(a,.5,{force3D:"auto",rotationY:0,x:0,y:0,rotationX:0,z:0,ease:punchgs.Power3.easeOut,overwrite:"all"}),"mouseleave"==c.type&&punchgs.TweenLite.to(jQuery(this),3.8,{z:0,ease:punchgs.Power3.easeOut})})}}),d&&(window.ondeviceorientation=function(c){var d=Math.round(c.beta||0)-70,e=Math.round(c.gamma||0),f=a.find(".active-revslide");if(jQuery(window).width()>jQuery(window).height()){var h=e;e=d,d=h}var i=a.width(),j=a.height(),k=360/i*e,l=180/j*d,m=g.speed/1e3||3,n=[];if(f.find(".tp-parallax-container").each(function(){n.push(jQuery(this))}),a.find(".tp-static-layers .tp-parallax-container").each(function(){n.push(jQuery(this))}),jQuery.each(n,function(){var a=jQuery(this),b=parseInt(a.data("parallaxlevel"),0),c=b/100,d=k*c*2,e=l*c*4;punchgs.TweenLite.to(a,m,{force3D:"auto",x:d,y:e,ease:punchgs.Power3.easeOut,overwrite:"all"})}),"3D"==g.type||"3d"==g.type){var o=".tp-revslider-slidesli .dddwrapper, .dddwrappershadow, .tp-revslider-slidesli .dddwrapper-layer, .tp-static-layers .dddwrapper-layer";"carousel"===b.sliderType&&(o=".tp-revslider-slidesli .dddwrapper, .tp-revslider-slidesli .dddwrapper-layer, .tp-static-layers .dddwrapper-layer"),b.c.find(o).each(function(){var a=jQuery(this),d=g.levels[g.levels.length-1]/200,e=k*d,f=l*d*3,h=0==b.conw?0:Math.round(k/b.conw*d*500)||0,i=0==b.conh?0:Math.round(l/b.conh*d*700)||0,j=a.closest("li"),n=0,o=!1;a.hasClass("dddwrapper-layer")&&(n=g.ddd_z_correction||65,o=!0),a.hasClass("dddwrapper-layer")&&(e=0,f=0),j.hasClass("active-revslide")||"carousel"!=b.sliderType?"on"!=g.ddd_bgfreeze||o?punchgs.TweenLite.to(a,m,{rotationX:i,rotationY:-h,x:e,z:n,y:f,ease:punchgs.Power3.easeOut,overwrite:"all"}):punchgs.TweenLite.to(a,.5,{force3D:"auto",rotationY:0,rotationX:0,z:0,ease:punchgs.Power3.easeOut,overwrite:"all"}):punchgs.TweenLite.to(a,.5,{force3D:"auto",rotationY:0,z:0,x:0,y:0,rotationX:0,ease:punchgs.Power3.easeOut,overwrite:"all"}),"mouseleave"==c.type&&punchgs.TweenLite.to(jQuery(this),3.8,{z:0,ease:punchgs.Power3.easeOut})})}}));var i=b.scrolleffect;if(i.bgs=new Array,i.on){if("on"===i.on_slidebg)for(var h=0;h<b.allslotholder.length;h++)i.bgs.push(b.allslotholder[h]);i.multiplicator_layers=parseFloat(i.multiplicator_layers),i.multiplicator=parseFloat(i.multiplicator)}void 0!==i.layers&&0===i.layers.length&&(i.layers=!1),void 0!==i.bgs&&0===i.bgs.length&&(i.bgs=!1),c.scrollTicker(b,a)}},scrollTicker:function(a,b){1!=a.scrollTicker&&(a.scrollTicker=!0,d?(punchgs.TweenLite.ticker.fps(150),punchgs.TweenLite.ticker.addEventListener("tick",function(){c.scrollHandling(a)},b,!1,1)):document.addEventListener("scroll",function(){c.scrollHandling(a,!0)},{passive:!0})),c.scrollHandling(a,!0)},scrollHandling:function(a,e,f){if(a.lastwindowheight=a.lastwindowheight||window.innerHeight,a.conh=0===a.conh||void 0===a.conh?a.infullscreenmode?a.minHeight:a.c.height():a.conh,a.lastscrolltop==window.scrollY&&!a.duringslidechange&&!e)return!1;punchgs.TweenLite.delayedCall(.2,b,[a,window.scrollY]);var g=a.c[0].getBoundingClientRect(),h=a.viewPort,i=a.parallax,j=g.top<0||g.height>a.lastwindowheight?g.top/g.height:g.bottom>a.lastwindowheight?(g.bottom-a.lastwindowheight)/g.height:0;if(a.scrollproc=j,c.callBackHandling&&c.callBackHandling(a,"parallax","start"),h.enable){var k=1-Math.abs(j);k=k<0?0:k,jQuery.isNumeric(h.visible_area)||-1!==h.visible_area.indexOf("%")&&(h.visible_area=parseInt(h.visible_area)/100),1-h.visible_area<=k?a.inviewport||(a.inviewport=!0,c.enterInViewPort(a)):a.inviewport&&(a.inviewport=!1,c.leaveViewPort(a))}if(d&&"on"==i.disable_onmobile)return!1;if("3d"!=i.type&&"3D"!=i.type){if(("scroll"==i.type||"scroll+mouse"==i.type||"mouse+scroll"==i.type)&&i.pcontainers)for(var l=0;l<i.pcontainers.length;l++)if(i.pcontainers[l].length>0){var m=i.pcontainers[l],n=i.pcontainer_depths[l]/100,o=Math.round(j*-n*a.conh*10)/10||0,p=void 0!==f?f:i.speedls/1e3||0;m.data("parallaxoffset",o),punchgs.TweenLite.to(m,p,{overwrite:"auto",force3D:"auto",y:o})}if(i.bgcontainers)for(var l=0;l<i.bgcontainers.length;l++){var q=i.bgcontainers[l],r=i.bgcontainer_depths[l],o=j*-r*a.conh||0,p=void 0!==f?f:i.speedbg/1e3||0;punchgs.TweenLite.to(q,p,{position:"absolute",top:"0px",left:"0px",backfaceVisibility:"hidden",force3D:"true",y:o+"px"})}}var s=a.scrolleffect;if(s.on&&("on"!==s.disable_on_mobile||!d)){var t=Math.abs(j)-s.tilt/100;if(t=t<0?0:t,!1!==s.layers){var u=1-t*s.multiplicator_layers,v={backfaceVisibility:"hidden",force3D:"true",z:.001,perspective:600};if("top"==s.direction&&j>=0&&(u=1),"bottom"==s.direction&&j<=0&&(u=1),u=u>1?1:u<0?0:u,"on"===s.fade&&(v.opacity=u),"on"===s.scale){var w=u;v.scale=1-w+1}if("on"===s.blur){var x=(1-u)*s.maxblur;v["-webkit-filter"]="blur("+x+"px)",v.filter="blur("+x+"px)"}if("on"===s.grayscale){var y=100*(1-u),z="grayscale("+y+"%)";v["-webkit-filter"]=void 0===v["-webkit-filter"]?z:v["-webkit-filter"]+" "+z,v.filter=void 0===v.filter?z:v.filter+" "+z}punchgs.TweenLite.set(s.layers,v)}if(!1!==s.bgs){var u=1-t*s.multiplicator,v={backfaceVisibility:"hidden",force3D:"true"};if("top"==s.direction&&j>=0&&(u=1),"bottom"==s.direction&&j<=0&&(u=1),u=u>1?1:u<0?0:u,"on"===s.fade&&(v.opacity=u),"on"===s.scale){var w=u;punchgs.TweenLite.set(jQuery(".tp-kbimg-wrap"),{transformOrigin:"50% 50%",scale:w,force3D:!0})}if("on"===s.blur){var x=(1-u)*s.maxblur;v["-webkit-filter"]="blur("+x+"px)",v.filter="blur("+x+"px)"}if("on"===s.grayscale){var y=100*(1-u),z="grayscale("+y+"%)";v["-webkit-filter"]=void 0===v["-webkit-filter"]?z:v["-webkit-filter"]+" "+z,v.filter=void 0===v.filter?z:v.filter+" "+z}punchgs.TweenLite.set(s.bgs,v)}}c.callBackHandling&&c.callBackHandling(a,"parallax","end")}})}(jQuery);
